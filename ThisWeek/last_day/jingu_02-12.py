# created by Jingu Kang on 02-12

import os

archive_path = '../../archive'
weeks = os.listdir(archive_path)

days = []

member_dict = {'jingu':[], 'seongbin':[], 'keunhoi':[], 'daeha':[], 'sanghong':[], 'jiyun':[], 'seunghyun':[]}

num_week = 0

for week in weeks:
    week_path = os.path.join(archive_path, week)
    if week.startswith('To'):
        daysThisWeek = os.listdir(week_path)
        days += [os.path.join(week_path, day) for day in daysThisWeek]
        num_week += 1
    else:
        continue
        # weeks.remove(week)

print('We studied for %d weeks' % num_week)  # 23

total_day = 0

for day in days:
    day_date = day.split('/')[-1]
    # print(day_date)
    if day_date.startswith('.'):
        continue
    else:
        total_day += 1
        python_files = os.listdir(day)

        for member_name in member_dict.keys():
            flag = 0
            for file in python_files:
                if member_name in file:
                    flag = 1
                    break

            if flag == 0:
                member_dict[member_name].append(day_date)


for memb in member_dict.keys():
    print('이름: {:10} 빠진 횟수: {:2}\n빠진 날짜: {}'.format(memb, len(member_dict[memb]), sorted(member_dict[memb])))

# print('Maximum fine is %d Won.' % (total_day * 1000))  # 102,000 KRW

"""
Name: jingu      빠진 횟수:  0
빠진 날짜: []
Name: seongbin   빠진 횟수: 61
빠진 날짜: ['01-02', '01-08', '01-10', '01-15', '01-16', '01-17', '01-18', '01-22', '01-23', '01-24', '01-25', '01-28', '01-31', '02-01', '02-07', '02-08', '09-19', '09-27', '10-02', '10-12', '10-16', '10-17', '10-19', '10-22', '10-23', '10-24', '10-25', '10-26', '10-29', '10-30', '11-01', '11-08', '11-13', '11-16', '11-19', '11-20', '11-21', '11-22', '11-26', '11-27', '11-28', '11-29', '11-30', '12-03', '12-04', '12-06', '12-07', '12-10', '12-11', '12-12', '12-13', '12-14', '12-17', '12-18', '12-19', '12-20', '12-21', '12-24', '12-27', '12-28', '12-31']
Name: keunhoi    빠진 횟수: 12
빠진 날짜: ['01-08', '01-11', '01-18', '10-08', '10-15', '10-31', '12-05', '12-11', '12-13', '12-14', '12-28', '12-31']
Name: daeha      빠진 횟수: 20
빠진 날짜: ['01-11', '01-15', '01-18', '01-21', '01-28', '01-29', '01-30', '09-06', '10-05', '10-16', '10-18', '10-24', '10-26', '11-09', '11-21', '11-30', '12-03', '12-05', '12-14', '12-18']
Name: sanghong   빠진 횟수: 60
빠진 날짜: ['01-02', '01-03', '01-07', '01-08', '01-09', '01-10', '01-11', '01-14', '01-15', '01-16', '01-17', '01-18', '01-21', '01-22', '01-23', '01-24', '01-25', '01-28', '01-29', '01-30', '01-31', '02-01', '02-07', '02-08', '09-06', '09-07', '09-10', '09-11', '09-12', '09-13', '09-14', '10-19', '10-22', '11-16', '11-21', '11-26', '11-27', '11-28', '11-29', '11-30', '12-03', '12-04', '12-05', '12-06', '12-07', '12-10', '12-11', '12-12', '12-13', '12-14', '12-17', '12-18', '12-19', '12-20', '12-21', '12-24', '12-26', '12-27', '12-28', '12-31']
Name: jiyun      빠진 횟수: 41
빠진 날짜: ['01-04', '01-15', '01-24', '01-30', '01-31', '02-01', '02-07', '09-06', '10-02', '10-04', '10-05', '10-08', '10-10', '10-11', '10-12', '10-15', '10-17', '10-18', '10-25', '10-26', '10-29', '11-09', '11-13', '11-14', '11-15', '11-16', '11-19', '11-20', '11-21', '11-22', '11-23', '11-26', '11-27', '12-03', '12-10', '12-11', '12-13', '12-14', '12-26', '12-27', '12-31']
Name: seunghyun  빠진 횟수: 89
빠진 날짜: ['01-02', '01-03', '01-04', '01-07', '01-08', '01-09', '01-10', '01-11', '01-14', '01-15', '01-16', '01-17', '01-18', '01-21', '01-22', '01-23', '01-24', '01-25', '01-28', '01-29', '01-30', '01-31', '02-01', '02-07', '02-08', '09-06', '09-11', '09-12', '09-13', '09-14', '09-19', '09-21', '10-01', '10-02', '10-04', '10-05', '10-08', '10-10', '10-12', '10-15', '10-16', '10-17', '10-22', '10-24', '10-25', '10-26', '10-30', '10-31', '11-01', '11-02', '11-06', '11-07', '11-08', '11-09', '11-12', '11-13', '11-14', '11-15', '11-16', '11-19', '11-20', '11-21', '11-22', '11-23', '11-26', '11-27', '11-28', '11-29', '11-30', '12-03', '12-04', '12-05', '12-06', '12-07', '12-10', '12-11', '12-12', '12-13', '12-14', '12-17', '12-18', '12-19', '12-20', '12-21', '12-24', '12-26', '12-27', '12-28', '12-31']
"""

